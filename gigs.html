---
title: Gigs
---

{% assign upcoming_gigs = '' %}
{% capture nowseconds %}
  {{ 'now' | date: '%s' }}
{% endcapture %}

{% include calendar-subscribe.html %}

<div class='giglist'>
  <div class='row'>

    <div class='col-md-2'></div>
    <div class='col-md-4'>
      <section>

        <h2>Upcoming</h2>
        <dl class='dl-horizontal future-gigs'>

          {% for post in site.categories.gigs reversed %}
            {% capture datetime %}{{ post.date | date: '%Y-%m-%d' }}T{{ post.time }}{% endcapture %}
            {% capture postseconds %}{{ datetime | date: '%s' }}{% endcapture %}
            {% capture future %}{{ nowseconds | minus:postseconds }}{% endcapture %}
            {% if future < '0' %}
              {% capture upcoming_gigs %}{{ 'true' }}{% endcapture %}
              {% include gig.html date = post.date url = post.url title = post.title with_day = true %}
            {% endif %}
          {% endfor %}
        </dl>
        {% if upcoming_gigs != 'true' %}
          <p>Nothing in the calendar. Why not <a href='/book-the-band/'>book us?</a></p>
        {% endif %}
      </section>
    </div>

    <div class='col-md-4'>
      <section>

        <h2>Archive</h2>
        <ul class='list-inline text-center past-gigs'>

          {% for year in site.data.attributes.years %}
            <li>
              <a class='collapsed'
                 data-parent='#accordion'
                 data-toggle='collapse'
                 href='#gigs-{{ year }}'
                 aria-expanded='false'
                 aria-controls='gigs-{{ year }}'>
                <h3>{{ year }}</h3>
              </a>
            </li>
          {% endfor %}
        </ul>

        <div class="panel-group" id="accordion" aria-multiselectable="true">
          {% assign year = site.data.attributes.years[0] %}
          <div class='panel'>
            <dl id='gigs-{{ year }}' class='panel-collapse collapse in dl-horizontal'>
              {% for post in site.categories.gigs %}
                {% capture datetime %}{{ post.date | date: '%Y-%m-%d' }}T{{ post.time }}{% endcapture %}
                {% capture postseconds %}{{ datetime | date: '%s' }}{% endcapture %}
                {% capture future %}{{ nowseconds | minus:postseconds }}{% endcapture %}
                {% if future > '0' %}
                  {% capture gigyear %}{{ post.date | date: '%Y' }}{% endcapture %}
                  {% assign gigyear = gigyear | plus: 0 %}
                  {% if gigyear < year %}
                    {% assign year = gigyear %}
                      </dl>
                    </div>
                    <div class='panel'>
                      <dl id='gigs-{{ year }}' class='panel-collapse collapse dl-horizontal'>
                  {% endif %}
                  {% include gig.html date = post.date url = post.url title = post.title %}
                {% endif %}
              {% endfor %}
            </dl>
          </div>
        </div>
      </section>
    </div>
    <div class='col-md-2'></div>
  </div>
</div>

{% include book-us.html %}
